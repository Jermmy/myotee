<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<title>编辑头像</title>
	<!--script lib file-->
	<script type="text/javascript" src="lib/d3.v3.min.js"></script>
	<script type="text/javascript" src="lib/zepto.min.js"></script>
	<script type="text/javascript" src="js/test.js"></script>
	<script type="text/javascript" src="js/dataparse.js"></script>
	<script type="text/javascript" src="js/personchange.js"></script>
	<!--css file-->
	<link rel="stylesheet" type="text/css" href="css/edit.css">
	<link rel="stylesheet" type="text/css" href="css/reset.css">
	<!--data-->
	<script type="text/javascript", src="data/backgroundData.js"></script>
	<script type="text/javascript", src="data/bdBubbleData.js"></script>
	<script type="text/javascript", src="data/bodyData.js"></script>
	<script type="text/javascript", src="data/bubbl2eData.js"></script>
	<script type="text/javascript", src="data/bubbleData.js"></script>
	<script type="text/javascript", src="data/clothData.js"></script>
	<script type="text/javascript", src="data/defaultHeadData.js"></script>
	<script type="text/javascript", src="data/eyebrowData.js"></script>
	<script type="text/javascript", src="data/eyeData.js"></script>
	<script type="text/javascript", src="data/faceData.js"></script>
	<script type="text/javascript", src="data/featureData.js"></script>
	<script type="text/javascript", src="data/glassData.js"></script>
	<script type="text/javascript", src="data/hairData.js"></script>
	<script type="text/javascript", src="data/hatData.js"></script>
	<script type="text/javascript", src="data/hobbyData.js"></script>
	<script type="text/javascript", src="data/mouthData.js"></script>
	<script type="text/javascript", src="data/noseData.js"></script>
</head>
<body>
<div id="contentDIV"></div>
<!-- <p id="demo">HHHH</p> -->
<button onclick="initHeadEdit()">测试</button>
<button onclick="faceChange(20004)">换脸</button>
<button onclick="eyeChange(4)">换眼睛</button>
<button onclick="hairChange(4)">换头发</button>
<script>
    var eyeTag = {
    	id: 5,
    	x: 0,
    	y: 0
    };
    var hairTag = {
    	id: 48,
    	color: "#222222",
    	x: 0,
    	y: 0
    };
    var faceTag = {
    	id: 1,
    	color: "#F4CDA7",
    	x: 0,
    	y: 0
    };
	var svgWidth = 640;
	var svgHeight = 640;
	var winWidth = $(window).get(0).innerWidth;
	var winHeight = $(window).get(0).innerHeight;
	var minWidth = winWidth > winHeight ? winHeight : winWidth;
	var svg = d3.select("#contentDIV").append("svg").attr("xmlns", "http://www.w3.org/2000/svg").attr("version", "1.1").attr("id", "contentSVG").attr("width", svgWidth).attr("height", svgHeight).attr("viewBox", "0 0 " + svgWidth + " " + svgHeight).attr("xml:space", "preserve");

	var roleA = svg.append("g").attr("id", "roleA");
	var personSVG = roleA.append("g").attr("id", "person");
    // 脸型
	var face = personSVG.append("g").attr("id", "face");
	// 头部
	var headSVG = personSVG.append("g").attr("id", "head");

	// 脸部五官，应该比头发先绘制，这样头发能挡住五官
	var facial = headSVG.append("g").attr("id", "facial");
	var eye = facial.append("g").attr("id", "eye");

	var hair = personSVG.append("g").attr("id", "hair");

	function initHeadEdit() {
		resizeSVG();
		faceChange(20000);
		eyeChange(1);
		hairChange(1);
	}

	function resizeSVG() {
		d3.select("#contentSVG").attr("width", $(window).get(0).innerWidth).attr("height", $(window).get(0).innerHeight);
	}
</script>
</body>
</html>